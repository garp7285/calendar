<div id='calendar'></div>

<div>
	<h1>Listing Events</h1>

<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Start</th>
      <th>End</th>
      <th>Allday</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @events.each do |event| %>
      <tr>
        <td><%= event.title %></td>
        <td><%= event.start %></td>
        <td><%= event.end %></td>
        <td><%= event.allDay %></td>
        <td><%= link_to 'Show', event %></td>
        <td><%= link_to 'Edit', edit_event_path(event) %></td>
        <td><%= link_to 'Destroy', event, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Event', new_event_path %>
</div>


<script>
	$(document).ready(function() {

    // page is now ready, initialize the calendar...
    $('#calendar').fullCalendar({
    	eventSources: [

        // your event source
        {
            url: '/events/past_events.json', // use the `url` property
            color: 'grey',    // an option!
            textColor: 'black'  // an option!
        },

        {
            url: '/events/allDay_events.json', // use the `url` property
            color: 'red',    // an option!
            textColor: 'black'  // an option!
        },

        {
            url: '/events/future_events.json', // use the `url` property
            color: 'blue',    // an option!
            textColor: 'black'  // an option!
        },

        {
            url: '/events/present_events.json', // use the `url` property
            color: 'green',    // an option!
            textColor: 'black'  // an option!
        }


    ],

    dayClick: function(date, jsEvent, view) {

    	

    	var myWindow = window.open("/events/new?params="+ date.format(), "", "width=400, height=400")




    }



    })

});
</script>